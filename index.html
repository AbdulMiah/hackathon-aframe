<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Plastic Waste VR</title>
    <meta name="description" content="Plastic Waste VR">
    <meta name="author" content="Abdul Muktadir Miah">
    <script src="https://cdn.jsdelivr.net/gh/aframevr/aframe@1.2.0/dist/aframe-master.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/aframe-environment-component/dist/aframe-environment-component.min.js"></script>
  </head>
  <body>
    <a-scene overlay-visibility>
        <a-assets>
            <a-asset-item id="bottle" src="assets/plastic_water_bottle/scene.gltf"></a-asset-item>
            <a-asset-item id="garbage-bags" src="assets/garbage_bags/scene.gltf"></a-asset-item>
            <a-asset-item id="urban-garbage" src="assets/urban_garbage_-_low_poly_prop_set/scene.gltf"></a-asset-item>
        </a-assets>
        <a-entity environment="preset: yavapai" preset-switcher id="environment"></a-entity>
        <a-entity id="entities-container"></a-entity>
    </a-scene>
    <script>
      const entities = document.querySelector('#entities-container');
      
      const generateEntities = (model, scale, positionRange, lod, quantity) => {
        for (let i = 0; i < quantity; i++) {
          const entity = document.createElement('a-entity');
          const randomRotation = `0 ${Math.floor(Math.random() * 360)} 0`;
          const randomPositionX = Math.random() * positionRange - positionRange / 2;
          const randomPositionZ = Math.random() * positionRange - positionRange / 2;
          const randomPosition = `${randomPositionX} 0 ${randomPositionZ}`;
          
          entity.setAttribute('gltf-model', model);
          entity.setAttribute('scale', scale);
          entity.setAttribute('lod', lod);
          entity.setAttribute('occlusion', 'objects: .ground');
          entity.setAttribute('rotation', randomRotation);
          entity.setAttribute('position', randomPosition);
          
          entities.appendChild(entity);
        }
      }

      generateEntities('#garbage-bags', '0.5 0.5 0.5', 10, 'distance: 10000; factor: 1000', 5);
      generateEntities('#bottle', '0.02 0.02 0.02', 10, 'distance: 10000; factor: 1000', 30);
      generateEntities('#urban-garbage', '1 1 1', 30, 'distance: 10000; factor: 1000', 3);
    </script>
  </body>
</html>
